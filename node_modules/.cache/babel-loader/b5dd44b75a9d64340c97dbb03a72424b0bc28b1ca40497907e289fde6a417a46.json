{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\VishwajithJayasinghe\\\\Documents\\\\MyDocs\\\\Projects\\\\React-front-end\\\\src\\\\components\\\\views\\\\cafe\\\\view-cafe.tsx\",\n  _s = $RefreshSig$();\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getCafeList } from \"../../../store/actions/cafeAction\";\nimport { useEffect, useState } from \"react\";\nimport DataTable from \"../../data-table/data-table.component\";\nimport { Box, Button, Stack } from \"@mui/material\";\nimport React from \"react\";\nimport { useNavigate } from \"react-router\";\nimport { EDIT_CAFE_ROUTE, VIEW_EMPLOYEE_ROUTE } from \"../../../constants/routes\";\nimport FilterSection from \"./filter-section\";\nimport Pagination from \"@mui/material/Pagination\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ViewCafe = () => {\n  _s();\n  var _cafeList$response;\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const cafeList = useSelector(state => state.cafe);\n  const [cafeParams, setCafeParams] = useState({\n    location: \"\",\n    page: 1\n  });\n  const GoToEmployees = /*#__PURE__*/React.memo(value => {\n    return /*#__PURE__*/_jsxDEV(Button, {\n      size: \"small\",\n      color: \"primary\",\n      onClick: () => navigate(`${VIEW_EMPLOYEE_ROUTE}/${value.data.id}`),\n      children: [value.data.employeecount, \" \", `${value.data.employeecount == 1 ? \"Employee\" : \"Employees\"}`]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this);\n  });\n  const GoToEditCafe = /*#__PURE__*/React.memo(value => {\n    return /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"warning\",\n      size: \"small\",\n      onClick: () => navigate(`${EDIT_CAFE_ROUTE}/${value.data.id}`),\n      children: \"Edit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this);\n  });\n  const DeleteCafe = /*#__PURE__*/React.memo(value => {\n    return /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"error\",\n      size: \"small\",\n      children: \"Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this);\n  });\n  const columns = [\n  //{field: \"logo\"},\n  {\n    field: \"id\",\n    width: 300\n  }, {\n    field: \"name\"\n  }, {\n    field: \"description\",\n    width: 350\n  }, {\n    field: \"location\"\n  }, {\n    field: \"employeecount\",\n    headerName: \"Employees\",\n    cellRenderer: GoToEmployees\n  }, {\n    field: \"\",\n    width: 100,\n    headerName: \"Edit Cafe\",\n    cellRenderer: GoToEditCafe\n  }, {\n    field: \"\",\n    width: 120,\n    headerName: \"Delete Cafe\",\n    cellRenderer: DeleteCafe\n  }];\n  const handleFilter = filter => {\n    setCafeParams({\n      ...cafeParams,\n      location: filter.location || \"\",\n      page: 1\n    });\n  };\n  const handlePageChange = (event, page) => {\n    setCafeParams({\n      ...cafeParams,\n      page: page\n    });\n  };\n  useEffect(() => {\n    dispatch(getCafeList(cafeParams));\n  }, [cafeParams]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"View Cafe\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"flex-end\",\n      mb: 1,\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => navigate(EDIT_CAFE_ROUTE),\n        variant: \"contained\",\n        color: \"success\",\n        sx: {\n          height: \"40px\"\n        },\n        children: \"Add New Cafe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FilterSection, {\n        onSubmit: handleFilter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      children: /*#__PURE__*/_jsxDEV(DataTable, {\n        cols: columns,\n        rows: (_cafeList$response = cafeList.response) === null || _cafeList$response === void 0 ? void 0 : _cafeList$response.data,\n        tableHeight: 400,\n        tableWidth: 1500\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      mt: 2,\n      children: /*#__PURE__*/_jsxDEV(Stack, {\n        spacing: 2,\n        children: /*#__PURE__*/_jsxDEV(Pagination, {\n          onChange: handlePageChange,\n          count: 10,\n          variant: \"outlined\",\n          color: \"primary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(ViewCafe, \"CpjOkjH/0dWVEJsr/+NaceiEEg4=\", false, function () {\n  return [useDispatch, useNavigate, useSelector];\n});\n_c = ViewCafe;\nexport default ViewCafe;\nvar _c;\n$RefreshReg$(_c, \"ViewCafe\");","map":{"version":3,"names":["useDispatch","useSelector","getCafeList","useEffect","useState","DataTable","Box","Button","Stack","React","useNavigate","EDIT_CAFE_ROUTE","VIEW_EMPLOYEE_ROUTE","FilterSection","Pagination","jsxDEV","_jsxDEV","Fragment","_Fragment","ViewCafe","_s","_cafeList$response","dispatch","navigate","cafeList","state","cafe","cafeParams","setCafeParams","location","page","GoToEmployees","memo","value","size","color","onClick","data","id","children","employeecount","fileName","_jsxFileName","lineNumber","columnNumber","GoToEditCafe","variant","DeleteCafe","columns","field","width","headerName","cellRenderer","handleFilter","filter","handlePageChange","event","display","flexDirection","justifyContent","alignItems","mb","sx","height","onSubmit","cols","rows","response","tableHeight","tableWidth","mt","spacing","onChange","count","_c","$RefreshReg$"],"sources":["C:/Users/VishwajithJayasinghe/Documents/MyDocs/Projects/React-front-end/src/components/views/cafe/view-cafe.tsx"],"sourcesContent":["import { useDispatch, useSelector } from \"react-redux\";\r\nimport { getCafeList } from \"../../../store/actions/cafeAction\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { AppState } from \"../../../store/reducers/rootReducer\";\r\nimport DataTable from \"../../data-table/data-table.component\";\r\nimport { Box, Button, Stack } from \"@mui/material\";\r\nimport React from \"react\";\r\nimport { useNavigate } from \"react-router\";\r\nimport {\r\n  EDIT_CAFE_ROUTE,\r\n  VIEW_EMPLOYEE_ROUTE,\r\n} from \"../../../constants/routes\";\r\nimport FilterSection, { FilterProps } from \"./filter-section\";\r\nimport Pagination from \"@mui/material/Pagination\";\r\n\r\nconst ViewCafe = () => {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const cafeList = useSelector((state: AppState) => state.cafe);\r\n  const [cafeParams, setCafeParams] = useState({ location: \"\", page: 1 });\r\n\r\n  const GoToEmployees = React.memo((value: any) => {\r\n    return (\r\n      <Button\r\n        size=\"small\"\r\n        color=\"primary\"\r\n        onClick={() => navigate(`${VIEW_EMPLOYEE_ROUTE}/${value.data.id}`)}\r\n      >\r\n        {value.data.employeecount} {`${value.data.employeecount == 1 ? \"Employee\": \"Employees\"}`}\r\n      </Button>\r\n    );\r\n  });\r\n\r\n  const GoToEditCafe = React.memo((value: any) => {\r\n    return (\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"warning\"\r\n        size=\"small\"\r\n        onClick={() => navigate(`${EDIT_CAFE_ROUTE}/${value.data.id}`)}\r\n      >\r\n        Edit\r\n      </Button>\r\n    );\r\n  });\r\n\r\n  const DeleteCafe = React.memo((value: any) => {\r\n    return (\r\n      <Button variant=\"contained\" color=\"error\" size=\"small\">\r\n        Delete\r\n      </Button>\r\n    );\r\n  });\r\n\r\n  const columns = [\r\n    //{field: \"logo\"},\r\n    { field: \"id\", width: 300 },\r\n    { field: \"name\" },\r\n    { field: \"description\", width: 350 },\r\n    { field: \"location\" },\r\n    { field: \"employeecount\", headerName: \"Employees\", cellRenderer: GoToEmployees },\r\n    {\r\n      field: \"\",\r\n      width: 100,\r\n      headerName: \"Edit Cafe\",\r\n      cellRenderer: GoToEditCafe,\r\n    },\r\n    {\r\n      field: \"\",\r\n      width: 120,\r\n      headerName: \"Delete Cafe\",\r\n      cellRenderer: DeleteCafe,\r\n    },\r\n  ];\r\n\r\n  const handleFilter = (filter: FilterProps) => {\r\n    setCafeParams({ ...cafeParams, location: filter.location || \"\", page: 1 });\r\n  };\r\n\r\n  const handlePageChange =(event: React.ChangeEvent<any>, page: number) =>{\r\n    setCafeParams({ ...cafeParams, page: page });\r\n  }\r\n\r\n  useEffect(() => {\r\n    dispatch(getCafeList(cafeParams));\r\n  }, [cafeParams]);\r\n  return (\r\n    <>\r\n      <h2>View Cafe</h2>\r\n      <Box\r\n        display={\"flex\"}\r\n        flexDirection={\"row\"}\r\n        justifyContent={\"space-between\"}\r\n        alignItems={\"flex-end\"}\r\n        mb={1}\r\n      >\r\n        <Button\r\n          onClick={() => navigate(EDIT_CAFE_ROUTE)}\r\n          variant=\"contained\"\r\n          color=\"success\"\r\n          sx={{ height: \"40px\" }}\r\n        >\r\n          Add New Cafe\r\n        </Button>\r\n        <FilterSection onSubmit={handleFilter} />\r\n      </Box>\r\n      <Box>\r\n        <DataTable\r\n          cols={columns}\r\n          rows={cafeList.response?.data}\r\n          tableHeight={400}\r\n          tableWidth={1500}\r\n        />\r\n      </Box>\r\n      <Box mt={2}>\r\n        <Stack spacing={2}>\r\n          <Pagination onChange={handlePageChange} count={10} variant=\"outlined\" color=\"primary\" />\r\n        </Stack>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ViewCafe;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}